<ion-header>
    <ion-navbar>
        <ion-title>TRATAMENTO VETORIAL</ion-title>
        <button ion-button color="light" style="position: absolute;
    right: 10px;
    top: 5px; width: 40px; background: transparent;" (click)="goToHome()"><ion-icon name="menu"></ion-icon></button>
    </ion-navbar>
</ion-header>

<ion-content>
    <div class="dashboard tratamentoVetorial">
        <div class="home-header">
            <i class="icon ion-android-calendar"></i>            
        </div>
    </div>

    <div *ngFor="let i of vistoriaImoveis">
        <ion-card>
            <ion-row>
                <ion-col>
                    <div class="tratVet_AreaMarker">
                        <img class="img-responsive" src="assets/img/acoes/marker.png"/>
                    </div>
                    <div class="tratVet_AreaInfoContato">
                        <div class="tratVet_AreaContato">
                            <span>
                                Contato: {{ i.imovel.imovNomeContato }}
                            </span>
                        </div>
                        <div *ngIf="!i.vistoria" class="tratVet_AreaStatus tratVet_AreaStatusAlert">
                            <ion-icon name="checkbox-outline"></ion-icon>
                        </div>
                        <div *ngIf="i.vistoria" class="tratVet_AreaStatus tratVet_AreaStatusOk">
                            <ion-icon name="checkbox-outline"></ion-icon>
                        </div>
                    </div>
                    <div class="tratVet_AreaEndereco">
                        <span>
                            {{ i.imovel.imovLogradouro }}, N {{ i.imovel.imovNumero }} - {{ i.bairro.bairNome }}
                        </span>
                    </div>
                    <div *ngIf="i.vistoria" class="tratVet_AreaStatusEndereco">
                        <span *ngIf="i.vistoria.vis_status === 'realizada'">
                            Status - Realizada
                        </span>
                        <span *ngIf="i.vistoria.vis_status === 'naorealizada'">
                            Status - Não Teve Atendimento
                        </span>
                    </div>
                    <div *ngIf="!i.vistoria" class="tratVet_AreaStatusEndereco ">
                        <span class="tratVet_Alert">
                            Status - Não Vistoriado
                        </span>
                    </div>
                    <div class="tratVet_AreaButton" (click)="goToVistoria(i.imovel._id)">
                        <span>
                            Analisar
                        </span>
                    </div>
                </ion-col>
            </ion-row>
        </ion-card>
    </div>


    <!--<div *ngFor="let i of vistoriaImoveis">

        <ion-card *ngIf="i.vistoria">
            <ion-row>
                <ion-col col-xl-2>
                    <div class="tratVet_AreaMarker">
                        <img class="img-responsive" src="assets/img/acoes/marker.png"/>
                    </div>
                </ion-col>
                <ion-col col-xl-10>This column will take 12 columns</ion-col>
            </ion-row>

            <ion-item>
                <div  class="indicador RealizadaVisita" *ngIf="i.vistoria.Status == 'Realizada'"></div>
                <div class="indicador naoRealizadaVisita" *ngIf="i.vistoria.Status != 'Realizada'"></div>
                <div style="padding: 10px 15px">
                    <h2>{{ i.imovel.Logradouro }}</h2>
                    <p>{{ i.imovel.Numero }}</p>
                </div>
            </ion-item>

            <ion-row>
                <ion-col>
                    <a (click)="editarVistoria(i.imovel.Codigo, i.vistoria.Codigo)" *ngIf="i.vistoria">
                        <button ion-button color="dark" >{{ i.vistoria.Status }}</button>
                    </a>
                </ion-col>
                <ion-col center text-center>
                    <ion-note>
                        1h antes
                    </ion-note>
                </ion-col>
            </ion-row>
        </ion-card>

        <ion-card *ngIf="!i.vistoria">
            <ion-row>
                <div class="tratVet_AreaMarker">
                    <img class="img-responsive" src="assets/img/acoes/marker.png"/>
                </div>
                <div class="tratVet_AreaInfo">
                </div>                
            </ion-row>

            <ion-item>
                <div class="indicador realizar"></div>
                <div style="padding: 10px 15px">
                    <h2>{{ i.imovel.Logradouro }}</h2>
                    <p>{{ i.imovel.Numero }}</p>
                </div>
            </ion-item>
            <ion-row>
                <ion-col>
                    <a (click)="goToVistoria(i.imovel.Codigo)">
                        <button ion-button color="default">Realizar Visita</button>
                    </a>
                </ion-col>
                <ion-col center text-center>
                    <ion-note>
                        1h antes
                    </ion-note>
                </ion-col>
            </ion-row>
        </ion-card>

    </div>-->

    <!--<ion-list inset >


        <ion-card-content>
            <ion-card-title>
                {{ i.imovel.Logradouro }} : 100
            </ion-card-title>
            
        </ion-card-content>

        <ion-row no-padding>



            <ion-col>
                <button ion-button clear small color="danger" icon-left>
                <ion-icon name='star'></ion-icon>
                Favorite
                </button>
            </ion-col>
            <ion-col text-center>
                <button ion-button clear small color="danger" icon-left>
                <ion-icon name='musical-notes'></ion-icon>
                Listen
                </button>
            </ion-col>
            <ion-col text-right>
                <button ion-button clear small color="danger" icon-left>
                <ion-icon name='share-alt'></ion-icon>
                Visitar
                </button>
            </ion-col>
        </ion-row>

        <!--<ion-item *ngFor="let i of vistoriaImoveis">
                    <i class="icon ion-android-pin"></i> {{ i.imovel.Logradouro }} : 100

                    <a (click)="goToVistoria(i.imovel.Codigo)" *ngIf="!i.vistoria">
                        <span>Realizar Visita</span>
                    </a>

                    <a (click)="editarVistoria(i.imovel.Codigo, i.vistoria.Codigo)" *ngIf="i.vistoria">
                        <span *ngIf="i.vistoria.Status != null">{{ i.vistoria.Status }}</span>
                    </a>

                </ion-item>

    </ion-list>-->

    <ion-fab right bottom>
        <button ion-fab color="secondary"><ion-icon name="add"></ion-icon></button>
        <ion-fab-list side="left">
            <button ion-fab (click)="escanearCodigo()"><ion-icon name="qr-scanner"></ion-icon></button>
        </ion-fab-list>
    </ion-fab>


</ion-content>